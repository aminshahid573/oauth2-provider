{{ define "title" }}User Management{{ end }}

{{ define "header" }}Manage Users{{ end }}

{{ define "styles" }}{{ end }}

{{ define "main" }}
<div class="content-card">
    <div class="card-header">
        <h2>Registered Users</h2>
        <button class="btn-primary" id="addUserBtn">Add New User</button>
    </div>
    <div id="notification" class="notification hidden"></div>
    <table class="data-table">
        <thead>
            <tr>
                <th>Username</th>
                <th>Role</th>
                <th>User ID</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody id="usersTableBody">
            <tr><td colspan="4" class="text-center">Loading users...</td></tr>
        </tbody>
    </table>
</div>

<!-- Add User Modal -->
<div id="userModal" class="modal-backdrop hidden">
    <div class="modal">
        <div class="modal-header">
            <h2 id="modalTitle">Add New User</h2>
            <button id="closeModalBtn" class="close-button">&times;</button>
        </div>
        <form id="userForm" novalidate>
            <div class="modal-body">
                <input type="hidden" name="_csrf" value="{{ .CSRFToken }}">
                <div class="form-group">
                    <label for="username">Username</label>
                    <input type="text" id="username" name="username" required>
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" name="password" required>
                </div>
                <div class="form-group">
                    <label for="role">Role</label>
                    <select id="role" name="role">
                        <option value="user">User</option>
                        <option value="admin">Admin</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" id="cancelModalBtn" class="btn-secondary">Cancel</button>
                <button type="submit" class="btn-primary">Save User</button>
            </div>
        </form>
    </div>
</div>
{{ end }}

{{ define "scripts" }}
<script src="/static/js/admin.js"></script>
{{ end }}